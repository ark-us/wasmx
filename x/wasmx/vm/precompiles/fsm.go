package precompiles

import (
	"fmt"

	sdk "github.com/cosmos/cosmos-sdk/types"
)

var ConsensusRaftv001 = func(libAddress sdk.AccAddress) string {
	return fmt.Sprintf(`{"id":"RAFT-FULL-1","library":"%s","states":[{"name":"uninitialized","after":[],"always":[],"on":[{"name":"initialize","target":"#RAFT-FULL-1.initialized","guard":"","actions":[],"meta":[]}],"entry":[],"exit":[],"initial":"","states":[]},{"name":"initialized","after":[],"always":[],"on":[{"name":"start","target":"","guard":"","actions":[],"meta":[]}],"entry":[],"exit":[],"initial":"unstarted","states":[{"name":"unstarted","after":[],"always":[],"on":[{"name":"setupNode","target":"#RAFT-FULL-1.initialized.unstarted","guard":"","actions":[{"type":"setupNode","params":[]}],"meta":[]},{"name":"start","target":"#RAFT-FULL-1.initialized.Follower","guard":"","actions":[],"meta":[]},{"name":"setup","target":"#RAFT-FULL-1.initialized.unstarted","guard":"","actions":[{"type":"setup","params":[]}],"meta":[]}],"entry":[],"exit":[],"initial":"","states":[]},{"name":"Follower","after":[{"name":"electionTimeout","target":"#RAFT-FULL-1.initialized.Candidate","guard":"","actions":[],"meta":[]}],"always":[],"on":[{"name":"receiveHeartbeat","target":"#RAFT-FULL-1.initialized.Follower","guard":"","actions":[{"type":"processAppendEntries","params":[]},{"type":"sendHeartbeatResponse","params":[]}],"meta":[]},{"name":"receiveVoteRequest","target":"#RAFT-FULL-1.initialized.Follower","guard":"","actions":[{"type":"vote","params":[]}],"meta":[]},{"name":"newTransaction","target":"","guard":"","actions":[{"type":"addToMempool","params":[]},{"type":"sendNewTransactionResponse","params":[]}],"meta":[]},{"name":"stop","target":"#RAFT-FULL-1.stopped","guard":"","actions":[],"meta":[]},{"name":"start","target":"#RAFT-FULL-1.initialized.Follower","guard":"","actions":[],"meta":[]}],"entry":[{"type":"registeredCheck","params":[]},{"type":"setRandomElectionTimeout","params":[{"key":"max","value":"$maxElectionTime"},{"key":"min","value":"$minElectionTime"}]},{"type":"cancelActiveIntervals","params":[{"key":"after","value":"electionTimeout"}]},{"type":"forwardTxsToLeader","params":[]}],"exit":[],"initial":"","states":[]},{"name":"Candidate","after":[],"always":[{"target":"#RAFT-FULL-1.initialized.Leader","guard":"isVotedLeader","actions":[],"meta":[]},{"target":"#RAFT-FULL-1.initialized.Follower","actions":[],"meta":[]}],"on":[{"name":"receiveHeartbeat","target":"#RAFT-FULL-1.initialized.Follower","guard":"","actions":[{"type":"processAppendEntries","params":[]},{"type":"sendHeartbeatResponse","params":[]}],"meta":[]},{"name":"newTransaction","target":"","guard":"","actions":[{"type":"addToMempool","params":[]},{"type":"sendNewTransactionResponse","params":[]}],"meta":[]},{"name":"stop","target":"#RAFT-FULL-1.stopped","guard":"","actions":[],"meta":[]},{"name":"start","target":"#RAFT-FULL-1.initialized.Candidate","guard":"","actions":[],"meta":[]}],"entry":[{"type":"incrementCurrentTerm","params":[]},{"type":"selfVote","params":[]},{"type":"setRandomElectionTimeout","params":[{"key":"max","value":"$maxElectionTime"},{"key":"min","value":"$minElectionTime"}]},{"type":"sendVoteRequests","params":[]}],"exit":[],"initial":"","states":[]},{"name":"Leader","after":[],"always":[],"on":[{"name":"reset","target":"#RAFT-FULL-1.initialized.Follower","guard":"","actions":[],"meta":[]},{"name":"stop","target":"#RAFT-FULL-1.stopped","guard":"","actions":[],"meta":[]}],"entry":[{"type":"initializeNextIndex","params":[]},{"type":"initializeMatchIndex","params":[]}],"exit":[],"initial":"active","states":[{"name":"active","after":[{"name":"heartbeatTimeout","target":"#RAFT-FULL-1.initialized.Leader.active","guard":"","actions":[],"meta":[]}],"always":[],"on":[{"name":"newTransaction","target":"","guard":"","actions":[{"type":"addToMempool","params":[]},{"type":"sendNewTransactionResponse","params":[]}],"meta":[]},{"name":"start","target":"#RAFT-FULL-1.initialized.Leader.active","guard":"","actions":[],"meta":[]},{"name":"nodeUpdate","target":"","guard":"","actions":[{"type":"updateNodeAndReturn","params":[]}],"meta":[]}],"entry":[{"type":"proposeBlock","params":[]},{"type":"sendAppendEntries","params":[]},{"type":"commitBlocks","params":[]}],"exit":[],"initial":"","states":[]}]}]},{"name":"stopped","after":[],"always":[],"on":[{"name":"restart","target":"#RAFT-FULL-1.initialized.unstarted","guard":"","actions":[],"meta":[]}],"entry":[],"exit":[],"initial":"","states":[]}]}`, libAddress.String())
}

var ConsensusTendermintv001 = func(libAddress sdk.AccAddress) string {
	return fmt.Sprintf(`{"id":"Tendermint_0","library":"%s","states":[{"name":"uninitialized","after":[],"always":[],"on":[{"name":"initialize","target":"#Tendermint_0.initialized","guard":"","actions":[],"meta":[]}],"entry":[],"exit":[],"initial":"","states":[]},{"name":"initialized","after":[],"always":[],"on":[{"name":"start","target":"","guard":"","actions":[],"meta":[]}],"entry":[],"exit":[],"initial":"unstarted","states":[{"name":"unstarted","after":[],"always":[],"on":[{"name":"setupNode","target":"#Tendermint_0.initialized.unstarted","guard":"","actions":[{"type":"setupNode","params":[]}],"meta":[]},{"name":"start","target":"#Tendermint_0.initialized.prestart","guard":"","actions":[],"meta":[]},{"name":"setup","target":"#Tendermint_0.initialized.unstarted","guard":"","actions":[{"type":"setup","params":[]}],"meta":[]}],"entry":[],"exit":[],"initial":"","states":[]},{"name":"prestart","after":[{"name":"roundTimeout","target":"#Tendermint_0.initialized.Validator","guard":"","actions":[],"meta":[]}],"always":[],"on":[],"entry":[],"exit":[],"initial":"","states":[]},{"name":"Validator","after":[{"name":"roundTimeout","target":"#Tendermint_0.initialized.Validator","guard":"","actions":[],"meta":[]}],"always":[{"target":"#Tendermint_0.initialized.Proposer","cond":"isNextProposer","guard":"isNextProposer","actions":[],"meta":[]}],"on":[{"name":"receiveProposal","target":"","guard":"","actions":[{"type":"processBlock","params":[]},{"type":"sendProposalResponse","params":[]}],"meta":[]},{"name":"newTransaction","target":"","guard":"","actions":[{"type":"addToMempool","params":[]},{"type":"sendNewTransactionResponse","params":[]}],"meta":[]},{"name":"stop","target":"#Tendermint_0.stopped","guard":"","actions":[],"meta":[]},{"name":"start","target":"#Tendermint_0.initialized.Validator","guard":"","actions":[],"meta":[]},{"name":"receivePrecommit","target":"","guard":"","actions":[{"type":"commitBlock","params":[]},{"type":"sendPrecommitResponse","params":[]}],"meta":[]}],"entry":[{"type":"registeredCheck","params":[]},{"type":"cancelActiveIntervals","params":[{"key":"after","value":"roundTimeout"}]},{"type":"incrementCurrentTerm","params":[]},{"type":"initializeNextIndex","params":[]}],"exit":[],"initial":"","states":[]},{"name":"Proposer","after":[],"always":[],"on":[{"name":"stop","target":"#Tendermint_0.stopped","guard":"","actions":[],"meta":[]}],"entry":[],"exit":[],"initial":"active","states":[{"name":"active","after":[{"name":"roundTimeout","target":"#Tendermint_0.initialized.Validator","guard":"","actions":[],"meta":[]}],"always":[],"on":[{"name":"newTransaction","target":"","guard":"","actions":[{"type":"addToMempool","params":[]},{"type":"sendNewTransactionResponse","params":[]}],"meta":[]},{"name":"start","target":"#Tendermint_0.initialized.Proposer.active","guard":"","actions":[],"meta":[]},{"name":"nodeUpdate","target":"","guard":"","actions":[{"type":"updateNodeAndReturn","params":[]}],"meta":[]},{"name":"receiveProposal","target":"#Tendermint_0.initialized.Validator","guard":"","actions":[{"type":"processBlock","params":[]},{"type":"sendProposalResponse","params":[]},{"type":"cancelActiveIntervals","params":[{"key":"after","value":"roundTimeout"}]}],"meta":[]}],"entry":[{"type":"cancelActiveIntervals","params":[{"key":"after","value":"roundTimeout"}]},{"type":"proposeBlock","params":[]},{"type":"sendAppendEntries","params":[]},{"type":"commitBlocks","params":[]}],"exit":[],"initial":"","states":[]}]}]},{"name":"stopped","after":[],"always":[],"on":[{"name":"restart","target":"#Tendermint_0.initialized.unstarted","guard":"","actions":[],"meta":[]}],"entry":[],"exit":[],"initial":"","states":[]}]}`, libAddress.String())
}
