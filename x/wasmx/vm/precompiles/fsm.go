package precompiles

import (
	"fmt"

	sdk "github.com/cosmos/cosmos-sdk/types"
)

var ConsensusRaftv001 = func(libAddress sdk.AccAddress) string {
	return fmt.Sprintf(`{"id":"RAFT-FULL-1","library":"%s","states":[{"name":"uninitialized","after":[],"always":[],"on":[{"name":"initialize","target":"#RAFT-FULL-1.initialized","guard":"","actions":[]}],"entry":[],"exit":[],"initial":"","states":[]},{"name":"initialized","after":[],"always":[],"on":[{"name":"start","target":"","guard":"","actions":[]}],"entry":[],"exit":[],"initial":"unstarted","states":[{"name":"unstarted","after":[],"always":[],"on":[{"name":"setupNode","target":"#RAFT-FULL-1.initialized.unstarted","guard":"","actions":[{"type":"setupNode","params":[]}]},{"name":"start","target":"#RAFT-FULL-1.initialized.Follower","guard":"","actions":[]}],"entry":[],"exit":[],"initial":"","states":[]},{"name":"Follower","after":[{"name":"electionTimeout","target":"#RAFT-FULL-1.initialized.Candidate","guard":"ifIntervalActive","actions":[]}],"always":[],"on":[{"name":"receiveHeartbeat","target":"#RAFT-FULL-1.initialized.Follower","guard":"","actions":[{"type":"processAppendEntries","params":[]},{"type":"sendHeartbeatResponse","params":[]}]},{"name":"receiveVoteRequest","target":"#RAFT-FULL-1.initialized.Follower","guard":"","actions":[{"type":"vote","params":[]}]},{"name":"newTransaction","target":"","guard":"","actions":[{"type":"addToMempool","params":[]},{"type":"sendNewTransactionResponse","params":[]}]}],"entry":[{"type":"registeredCheck","params":[]},{"type":"setRandomElectionTimeout","params":[{"key":"max","value":"$maxElectionTime"},{"key":"min","value":"$minElectionTime"}]},{"type":"cancelActiveIntervals","params":[{"key":"after","value":"electionTimeout"}]},{"type":"forwardTxsToLeader","params":[]}],"exit":[],"initial":"","states":[]},{"name":"Candidate","after":[],"always":[{"target":"#RAFT-FULL-1.initialized.Leader","guard":"isVotedLeader","actions":[]},{"target":"#RAFT-FULL-1.initialized.Follower","actions":[]}],"on":[{"name":"receiveHeartbeat","target":"#RAFT-FULL-1.initialized.Follower","guard":"","actions":[{"type":"processAppendEntries","params":[]},{"type":"sendHeartbeatResponse","params":[]}]},{"name":"newTransaction","target":"","guard":"","actions":[{"type":"addToMempool","params":[]},{"type":"sendNewTransactionResponse","params":[]}]}],"entry":[{"type":"incrementCurrentTerm","params":[]},{"type":"selfVote","params":[]},{"type":"setRandomElectionTimeout","params":[{"key":"max","value":"$maxElectionTime"},{"key":"min","value":"$minElectionTime"}]},{"type":"sendVoteRequests","params":[]}],"exit":[],"initial":"","states":[]},{"name":"Leader","after":[],"always":[],"on":[{"name":"reset","target":"#RAFT-FULL-1.initialized.Follower","guard":"","actions":[]}],"entry":[{"type":"initializeNextIndex","params":[]},{"type":"initializeMatchIndex","params":[]}],"exit":[],"initial":"active","states":[{"name":"active","after":[{"name":"heartbeatTimeout","target":"#RAFT-FULL-1.initialized.Leader.active","guard":"","actions":[]}],"always":[],"on":[{"name":"newTransaction","target":"","guard":"","actions":[{"type":"addToMempool","params":[]},{"type":"sendNewTransactionResponse","params":[]}]},{"name":"start","target":"#RAFT-FULL-1.initialized.Leader.active","guard":"","actions":[]},{"name":"nodeUpdate","target":"","guard":"","actions":[{"type":"updateNodeAndReturn","params":[]}]}],"entry":[{"type":"sendAppendEntries","params":[]},{"type":"commitBlocks","params":[]},{"type":"proposeBlock","params":[]}],"exit":[],"initial":"","states":[]}]}]}]}`, libAddress.String())
}
